<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="header/header.css">
    <link rel="stylesheet" href="snippetCreation/snippetCreation.css">
    <script src="sideCalendar/sideCalendar.js"></script>
    <script src="snippetCreation/snippetCreation.js"></script>
    <script src="taskCompleted/taskCompleted.js"></script>

     <!--taskbox script and stylesheet -->
        <link rel="stylesheet" href="taskBox\taskbox.css" />
        <script src="taskBox\send_task.js"></script>
</head>
<body>
   <header class="header">
      <img src="header/assets/Logo.svg" alt="team logo" class="logo">  

      <div class="header-content">
         
         <div class="stat-container">
            <div class="stat">
               <img src="header/assets/Fire.svg" alt="Streak fire">
               <div class="stat-text">
                  <p class="header-stat" id="streak-days">31 days streak</p>
                  <p class="stat-caption" id="streak-caption">You are on fire!</p>
               </div>
            </div>

            <div class="stat">
               <p id="check">âœ…</p>
               <div class="stat-text">
                  <p class="header-stat" id="tasks-completed">20 tasks completed</p>
                  <p class="stat-caption" id="tasks-to-go">7 tasks to go</p>
               </div>
            </div>
         </div>

         <div class="menu">
            <a href="#">Support</a>
            <a href="#">Settings</a>
            <img src="header/assets/Account.svg" alt="Person icon" class="profile-icon">
         </div>
         
      </div>

   </header>
   <side-calendar></side-calendar>

   <main>
      <completed-statistics></completed-statistics>
   </main>

   <!-- 
      Commented because we will not use this exact code in this table format
      but we will use this route for the task list
   -->
   <!-- <table id="tasksTable" border="1">
      <thead>
          <tr>
              <th>Title</th>
              <th>Due Date</th>
              <th>Completed</th>
          </tr>
      </thead>
      <tbody>
      </tbody>
  </table>

    <script>
       function fetchTasks() {
         fetch('/tasks')
             .then(response => response.json())
             .then(data => {
                 const tableBody = document.querySelector('#tasksTable tbody');
                 tableBody.innerHTML = '';
                 data.forEach(task => {
                     const row = document.createElement('tr');
                     row.innerHTML = `
                         <td>${task.title}</td>
                         <td>${task.due_date}</td>
                         <td>${task.completed != 0}</td>
                     `;
                     tableBody.appendChild(row);
                 });
             })
             .catch(error => console.error('Error fetching data:', error));
         }
         fetchTasks()
    </script> -->
  
    <!--text box on the bottom, with the send button-->
   <div class="taskbox">
      <textarea id="taskInput" placeholder="What would you like to do today?"></textarea>
      <button class="add-task" type="button" id="sendTask">
         <img src="taskBox/sendTask.png" alt="Send" />
      </button>
   </div>

   <div id="snippet">
      <h1>Snippets</h1>
      <ul id="snippet-container"></ul>
      <form id="snippet-form">
         <div id="code-area">
            <label for="code-input">Code:</label>
            <textarea id="code-input" name="code" required></textarea>
         </div>

         <div id="language-area">
            <label for="language-select">Language:</label>
            <select id="language-select" name="language" required>
               <option value="">Select Language</option>
               <option value="JavaScript">JavaScript</option>
               <option value="HTML">HTML</option>
               <option value="CSS">CSS</option>
            </select>
         </div>

         <button type="submit">Add Snippet</button>
      </form>
   </div>

  
</body>
</html>
